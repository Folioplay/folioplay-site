{"version":3,"sources":["../node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js","../../src/baseEvmAdapter.ts","../../src/ObservableStore.ts","../../src/classes.ts","../../src/error-constants.ts","../node_modules/fast-deep-equal/index.js","../node_modules/is-stream/index.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js","../../src/utils.ts","../../src/interfaces.ts","../../src/supportedCurrencies.ts","../../src/config.ts","../../src/embedUtils.ts","../../src/loglevel.ts","../../src/messages.ts","../../src/inpage-provider.ts","../../src/integrity.ts","../../src/PopupHandler.ts","../../src/siteMetadata.ts","../../src/embed.ts","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../../src/index.ts","../../src/asStream.ts","../../src/ComposedStore.ts","../../src/MergedStore.ts","../../src/transform.ts","../node_modules/through2/through2.js","../node_modules/through2/node_modules/readable-stream/readable-browser.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_passthrough.js","../../src/errors.ts","../../src/torusWalletAdapter.ts"],"names":["pna","require","objectKeys","Object","keys","obj","key","push","module","exports","Duplex","util","create","inherits","Readable","Writable","prototype","v","length","method","options","this","call","readable","writable","allowHalfOpen","once","onend","_writableState","ended","nextTick","onEndNT","self","end","defineProperty","enumerable","get","highWaterMark","undefined","_readableState","destroyed","set","value","_destroy","err","cb","BaseEvmAdapter","_inherits","params","_classCallCheck","_this","_defineProperty","clientId","_createClass","_authenticateUser","provider","chainConfig","_this$chainConfig","chainId","_context","WalletLoginError","notConnectedError","_this$chainConfig2","chainNamespace","status","ADAPTER_STATUS","CONNECTED","request","accounts","existingToken","getSavedToken","name","checkIfTokenIsExpired","idToken","payload","domain","window","location","origin","uri","href","address","parseInt","version","nonce","Math","random","toString","slice","issuedAt","Date","toISOString","signChallenge","challenge","signedMessage","verifySignedChallenge","sessionTime","saveToken","_disconnect","_context2","disconnectionError","clearToken","BaseAdapter","ObservableStore","initState","_state","_getState","newState","_putState","emit","partialState","state","getState","putState","handler","on","removeListener","safe_event_emitter_1","EthereumRpcError","code","message","data","Number","isInteger","Error","serialized","stack","fast_safe_stringify_1","serialize","stringifyReplacer","EthereumProviderError","isValidEthProviderCode","_","rpc","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","parse","invalidRequest","methodNotFound","invalidParams","internal","userRejectedRequest","unauthorized","unsupportedMethod","disconnected","chainDisconnected","standard","equal","a","b","constructor","i","Array","isArray","RegExp","source","flags","valueOf","hasOwnProperty","isStream","stream","pipe","_write","_read","duplex","transform","_transform","ReadableState","EventEmitter","EElistenerCount","emitter","type","listeners","Stream","Buffer","OurUint8Array","global","Uint8Array","debugUtil","debug","debuglog","StringDecoder","BufferList","destroyImpl","kProxyEvents","isDuplex","objectMode","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","floor","buffer","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","decoder","encoding","read","destroy","readableAddChunk","chunk","addToFront","skipChunkCheck","er","emitReadable","onEofChunk","isBuffer","TypeError","chunkInvalid","getPrototypeOf","from","_uint8ArrayToBuffer","addChunk","write","maybeReadMore","needMoreData","unshift","_undestroy","undestroy","isPaused","setEncoding","enc","MAX_HWM","howMuchToRead","n","head","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","len","nReadingNextTick","resume_","fromList","ret","shift","join","concat","clear","list","hasStrings","p","c","next","str","nb","tail","copyFromBufferString","allocUnsafe","copy","buf","copyFromBuffer","fromListPartial","endReadable","endReadableNT","indexOf","xs","x","l","nOrig","doRead","dest","pipeOpts","src","endFn","process","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","pause","event","fn","prependListener","_events","resume","dests","index","splice","ev","res","addListener","wrap","paused","apply","arguments","bind","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","errorEmitted","ending","finished","CorkedRequest","entry","finish","corkReq","callback","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","browser","setImmediate","WritableState","internalUtil","deprecate","realHasInstance","nop","writableObjectMode","writableHwm","writableHighWaterMark","finalCalled","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","count","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","out","Symbol","hasInstance","Function","object","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","toLowerCase","endWritable","Transform","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","flush","_flush","done","_this2","err2","FALLBACK_ERROR_CODE","error_constants_1","FALLBACK_MESSAGE","FALLBACK_ERROR","getMessageFromCode","fallbackMessage","codeString","hasKey","isJsonRpcServerError","isValidCode","assignOriginalError","error","assign","fallbackError","shouldIncludeStack","classes_1","_error","originalError","_a","_b","LOGIN_PROVIDER","WALLET_VERIFIERS","GOOGLE","FACEBOOK","TWITCH","REDDIT","DISCORD","EMAIL_PASSWORDLESS","WALLET_OPENLOGIN_VERIFIER_MAP","PAYMENT_PROVIDER","SUPPORTED_PAYMENT_NETWORK","TORUS_BUILD_ENV","BUTTON_POSITION","PROVIDER_SUPPORTED_FIAT_CURRENCIES","cryptoCompareCurrenciesSet","Set","supportedFiatCurrencies","filter","currency","has","paymentProviders","line1","line2","line3","supportPage","minOrderValue","maxOrderValue","validCurrencies","validCryptoCurrenciesByChain","display","includeFees","api","enforceMax","receiveHint","sell","supportedVerifierList","values","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","prodTorusUrl","localStorageKeyPrefix","runOnLoad","Promise","resolve","reject","document","body","then","catch","addEventListener","htmlToElement","html","template","createElement","trimmedHtml","trim","innerHTML","content","firstChild","handleEvent","handle","eventName","handlerArgs","handlerWrapper","removeEventListener","handleStream","documentReady","readyState","loglevel","getLogger","errors","permanentlyDisconnected","sendSiteMetadata","unsupportedSync","invalidDuplexStream","invalidOptions","maxEventListeners","shouldSendMetadata","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","info","connected","warnings","enableDeprecation","sendDeprecation","events","close","networkChanged","notification","publicConfigStore","config","createErrorMiddleware","req","ethErrors","log","logStreamDisconnectWarning","remoteLabel","warningMsg","warn","listenerCount","getPreopenInstanceId","getTorusUrl","buildEnv","integrity","versionUsed","useAPIKey","response","torusUrl","logLevel","getUserLanguage","userLanguage","navigator","language","userLanguages","split","EMITTED_NOTIFICATIONS","NOOP","FEATURES_PROVIDER_CHANGE_WINDOW","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_CONFIRM_WINDOW","SafeEventEmitter","defaultMaxListeners","getRpcPromiseCallback","unwrapResult","result","TorusInpageProvider","connectionStream","jsonRpcStreamName","enable","experimentalMethods","send","isDuplexStream","messages","isTorus","setMaxListeners","_defaultState","selectedAddress","networkVersion","_handleAccountsChanged","_handleChainChanged","_handleUnlockStateChanged","_handleConnect","_handleDisconnect","_handleStreamDisconnect","_sendSync","_rpcRequest","_warnOfDeprecation","_initializeState","sendAsync","mux","ObjectMultiplex","pump","_publicConfigStore","storageKey","createStream","storeAsStream","ignoreStream","isConnected","jsonRpcConnection","createStreamMiddleware","rpcEngine","JRPCEngine","createIdRemapMiddleware","middleware","_rpcEngine","includes","_sentWarnings","args","listener","prependOnceListener","isUnlocked","initialized","isInternal","_payload","jsonrpc","tryPreopenHandle","methodOrPayload","callbackOrArgs","id","isRecoverable","errorMessage","isPermanentlyDisconnected","streamName","isEthAccounts","finalAccounts","account","dequal","hasEmittedConnection","hashes","internalHashes","algorithms","forEach","algorithm","createHash","update","digest","main","finalOptions","delimiter","full","defaults","sri","output","map","PopupHandler","_ref","url","target","features","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","abs","top","h","w","getPopupFeatures","windowTimer","iClosedWindow","_setupTimer","setInterval","closed","clearInterval","open","focus","redirect","locationReplaceOnRedirect","replace","imgExists","img","onload","e","getSiteName","siteName","querySelector","metaTitle","title","hostname","getSiteIcon","icon","querySelectorAll","find","_icon","Boolean","getSiteMetadata","engine","domainMetadata","defaultVerifiers","iframeIntegrity","expectedCacheControlHeader","UNSAFE_METHODS","torusIframeHtml","check","hash","crossOrigin","rel","relList","supports","appendChild","Torus","buttonPosition","buttonSize","modalZIndex","apiKey","configuration","isLoggedIn","isInitialized","torusWidgetVisibility","requestedVerifier","currentVerifier","setAPIKey","alertZIndex","isIframeFullScreen","enableLogging","enabledVerifiers","network","host","networkName","blockExplorer","ticker","tickerName","loginConfig","showTorusButton","whiteLabel","skipTKey","useWalletConnect","mfaLevel","isCustomLogin","setDefaultLevel","enableAll","disableAll","torusIframeUrl","URL","pathname","endsWith","torusIframe","torusAlertContainer","style","setProperty","link","setAttribute","styleLink","defaultLanguage","customTranslations","mergedTranslations","deepmerge","languageTranslations","embedTranslations","handleSetup","_setupWeb3","initStream","communicationMux","getStream","success","_displayIframe","fetchUrl","fetch","cache","resp","headers","text","calculatedIntegrity","generateIntegrity","clearInit","login","verifier","login_hint","loginHint","ethereum","logout","statusStream","loggedIn","isElement","element","Element","HTMLDocument","contains","remove","torusAlert","hideTorusButton","_sendWidgetVisibilityStatus","setProvider","rest","providerChangeStream","preopenInstanceId","_handleWindow","override","showWallet","path","showWalletStream","finalPath","showWalletHandler","instanceId","finalUrl","searchParams","append","_ref2","verifierId","isExtended","walletVerifier","openloginVerifier","getUserInfo","userInfoAccessStream","approved","rejected","newRequest","userInfoStream","handlerChunk","initiateTopup","isValid","selectedProvider","selectedParams","fiatValue","requestedOrderAmount","parseFloat","selectedCurrency","selectedCryptoCurrency","flat","finalCryptoCurrency","validatePaymentProvider","JSON","stringify","topupStream","loginParams","privateKey","userInfo","loginPrivKeyStream","walletConnectStream","windowStream","handledWindow","_createPopupBlockAlert","closeHandler","receivedId","_setEmbedWhiteLabel","theme","isDark","colors","classList","add","torusBrand1","torusGray2","_getLogoUrl","logoUrl","logoLight","logoDark","isFull","size","right","bottom","metamaskStream","BasePostMessageStream","targetWindow","contentWindow","targetOrigin","communicationStream","inpageProvider","detectAccountRequestPrototypeModifier","m","originalMethod","setTimeout","handleLoginCb","_showLoginPopup","isLoginCallback","proxiedInpageProvider","Proxy","deleteProperty","setupMultiplex","calledFromEmbed","loginHandler","oauthStream","successAlert","btnContainer","children","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","__esModule","sourceKeys","__exportStar","ObservableStoreStream","obsStore","subscribe","_encoding","_size","unsubscribe","stream_1","ComposedStore","_children","childKey","child","_addChild","updateFromChild","childValue","ObservableStore_1","MergedStore","_updateWholeState","childStates","syncTransformFn","through2_1","xtend","DestroyableTransform","opts","_destroyed","noop","through2","construct","t2","ctor","Through2","PassThrough","instance","Constructor","s","alloc","offset","inspect","custom","utils_1","errors_1","getEthJsonRpcError","arg","parseOpts","getEthProviderError","server","TorusWalletAdapter","WALLET_ADAPTERS","TORUS_EVM","ADAPTER_NAMESPACES","EIP155","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","NOT_READY","torusWalletOptions","adapterSettings","initParams","loginSettings","torusInstance","_get","displayName","rpcTarget","getChainConfig","init","READY","ADAPTER_EVENTS","autoConnect","rehydrated","connect","ERRORED","_connect","WalletInitializationError","notReady","CONNECTING","adapter","_this$chainConfig3","_chainId","updatedChainID","fromCode","reconnected","Web3AuthError","connectionError","_args3","cleanup","_context3","DISCONNECTED","_getUserInfo","_context4"],"mappings":"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AiBK,QAAU,gBALY,cAMvCL,EAAiBM,mBAAqB,iCANC,GAS7BE,EACF,UADEA,EAEL,OAFKA,GAGE,cAHFA,GAIF,UAJEA,GAKD,WALCA,GAMF,UANEA,GAOJ,QAGIC,GACF,UADEA,GAEJ,QAFIA,GAGE,cAHFA,GAIQ,oBAIRC,GACC,aAyCDC,GACE,cADFA,GAED,WAFCA,GAGG,eAHHA,GAIA,YC2MPC,IAAkC,mBAGrCJ,EAA2B,CAC1B,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QA9CoC,cAoDrCA,EAAwB,CACvB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QAhFoC,cAmFrCA,GAA+B,CAAC,MAAO,MAAO,QAnFT,cAqFrCA,GAA2B,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QArFtD,cAwFrCA,GAA4B,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAxFvD,cA8FrCA,GAA2B,CAC1B,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QA1IoC,cA4IrCA,GAAyB,CAAC,MAAO,MAAO,QA5IH,GA+IlCK,GAA6B,IAAIC,IAhbE,CACvC,MACA,OACA,OACA,OACA,QACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,QACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,SACA,QACA,MACA,MACA,SACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,WACA,OACA,MACA,MACA,UACA,SACA,MACA,SACA,OACA,OACA,QACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,MACA,QACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,QACA,MACA,MACA,MACA,QACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,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","file":"static/js/7.1c878a6e.chunk.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};",null,"import SafeEventEmitter from '@metamask/safe-event-emitter';\n\nexport class ObservableStore<T> extends SafeEventEmitter {\n  private _state: T;\n\n  constructor(initState: T) {\n    super();\n    if (initState) {\n      this._state = initState;\n    } else {\n      // Typecast/default state: Preserve existing behavior\n      this._state = {} as unknown as T;\n    }\n  }\n\n  // wrapper around internal getState\n  getState(): T {\n    return this._getState();\n  }\n\n  // wrapper around internal putState\n  putState(newState: T): void {\n    this._putState(newState);\n    this.emit('update', newState);\n  }\n\n  updateState(partialState: Partial<T>): void {\n    // if non-null object, merge\n    if (partialState && typeof partialState === 'object') {\n      const state = this.getState();\n      this.putState({ ...state, ...partialState });\n      // if not object, use new value\n    } else {\n      this.putState(partialState);\n    }\n  }\n\n  // subscribe to changes\n  subscribe(handler: (state: T) => void): void {\n    this.on('update', handler);\n  }\n\n  // unsubscribe to changes\n  unsubscribe(handler: (state: T) => void): void {\n    this.removeListener('update', handler);\n  }\n\n  //\n  // private\n  //\n\n  // read from persistence\n  protected _getState(): T {\n    return this._state;\n  }\n\n  // write to persistence\n  protected _putState(newState: T): void {\n    this._state = newState;\n  }\n}\n",null,null,"'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}",null,null,null,null,null,null,null,null,null,null,null,null,"var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export * from './asStream';\nexport * from './ComposedStore';\nexport * from './MergedStore';\nexport * from './ObservableStore';\nexport * from './transform';\n","import { Duplex as DuplexStream } from 'stream';\n\nimport { ObservableStore } from './ObservableStore';\n\nclass ObservableStoreStream<T> extends DuplexStream {\n  handler: (state: T) => void;\n\n  obsStore: ObservableStore<T>;\n\n  constructor(obsStore: ObservableStore<T>) {\n    super({\n      // pass values, not serializations\n      objectMode: true,\n    });\n    // dont buffer outgoing updates\n    this.resume();\n    // save handler so we can unsubscribe later\n    this.handler = (state: T) => this.push(state);\n    // subscribe to obsStore changes\n    this.obsStore = obsStore;\n    this.obsStore.subscribe(this.handler);\n  }\n\n  // emit current state on new destination\n  pipe<U extends NodeJS.WritableStream>(\n    dest: U,\n    options?: { end?: boolean },\n  ): U {\n    const result = super.pipe(dest, options);\n    dest.write(this.obsStore.getState() as any);\n    return result;\n  }\n\n  // write from incoming stream to state\n  _write(\n    chunk: any,\n    _encoding: string,\n    callback: (error?: Error | null) => void,\n  ): void {\n    this.obsStore.putState(chunk);\n    callback();\n  }\n\n  // noop - outgoing stream is asking us if we have data we arent giving it\n  _read(_size: number): void {\n    return undefined;\n  }\n\n  // unsubscribe from event emitter\n  _destroy(err: Error | null, callback: (error: Error | null) => void): void {\n    this.obsStore.unsubscribe(this.handler);\n    super._destroy(err, callback);\n  }\n}\n\nexport function storeAsStream<T>(\n  obsStore: ObservableStore<T>,\n): ObservableStoreStream<T> {\n  return new ObservableStoreStream(obsStore);\n}\n","import { ObservableStore } from './ObservableStore';\n\nexport class ComposedStore<\n  T extends Record<string, Record<string, unknown>>,\n> extends ObservableStore<T> {\n  private _children: Record<keyof T, ObservableStore<T[keyof T]>>;\n\n  constructor(children: Record<keyof T, ObservableStore<T[keyof T]>>) {\n    // Typecast: Preserve existing behavior\n    super({} as unknown as T);\n\n    // subscribe to children\n    this._children = children || {};\n    Object.keys(this._children).forEach((childKey) => {\n      const child = this._children[childKey];\n      this._addChild(childKey, child);\n    });\n  }\n\n  _addChild(childKey: keyof T, child: ObservableStore<T[keyof T]>) {\n    const updateFromChild = (childValue: T[keyof T]) => {\n      const state = this.getState();\n      state[childKey] = childValue;\n      this.putState(state);\n    };\n\n    child.subscribe(updateFromChild);\n    updateFromChild(child.getState());\n  }\n}\n","import { ObservableStore } from './ObservableStore';\n\nexport class MergedStore<\n  T extends Record<string, unknown>,\n> extends ObservableStore<T> {\n  private _children: ObservableStore<Partial<T>>[];\n\n  constructor(children = []) {\n    // Typecast: Preserve existing behavior\n    super({} as unknown as T);\n\n    this._children = children;\n    // subscribe to children\n    children.forEach((child) => this._addChild(child));\n    this._updateWholeState();\n  }\n\n  _addChild(child: ObservableStore<Partial<T>>): void {\n    child.subscribe(() => this._updateWholeState());\n  }\n\n  _updateWholeState(): void {\n    const childStates = this._children.map((child) => child.getState());\n    // apply shallow merge over states\n    const state = Object.assign({}, ...childStates);\n    this.putState(state);\n  }\n}\n","import { obj as TransformStream } from 'through2';\n\nexport function storeTransformStream<T, U>(syncTransformFn: (state: T) => U) {\n  return TransformStream((state, _encoding, cb) => {\n    try {\n      const newState = syncTransformFn(state);\n      cb(null, newState);\n      return undefined;\n    } catch (err) {\n      cb(err);\n      return undefined;\n    }\n  });\n}\n","var Transform = require('readable-stream').Transform\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};",null,null],"sourceRoot":""}